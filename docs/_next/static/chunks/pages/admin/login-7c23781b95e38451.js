(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{6863:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return n(1667)}])},3667:function(e,t){"use strict";t.Z={getBaseUrl:()=>["127.0.0.1","localhost"].includes(window.location.hostname)?"http://localhost:3000":"https://dapper-shorthaired-doom.glitch.me"}},1667:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var a=n(5893),r=n(7294),o=n(3667);function l(e){let{urlSuccess:t}=e,[n,a]=r.useState(""),[l,i]=r.useState(""),[s,u]=r.useState(""),c=async e=>{e.preventDefault();let a=o.Z.getBaseUrl();try{let e=await fetch(a+"/usuario/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,contrasena:l})});if(!e.ok)throw Error("Error al autenticar");let r=await e.json();localStorage.setItem("usuario",JSON.stringify(r)),window.location=t}catch(e){console.dir(e),u(e.message)}},m=r.createElement("section",{className:"login"},r.createElement("form",{onSubmit:c},r.createElement("p",{className:"error"},s),r.createElement("label",{},"Email"),r.createElement("input",{type:"email",value:n,onChange:e=>a(e.currentTarget.value)}),r.createElement("label",{},"Contrase\xf1a"),r.createElement("input",{type:"password",value:l,onChange:e=>i(e.currentTarget.value)}),r.createElement("button",{type:"submit"},"Ingresar")));return m}function i(){return(0,a.jsx)(l,{urlSuccess:"/admin"})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6863)}),_N_E=e.O()}]);