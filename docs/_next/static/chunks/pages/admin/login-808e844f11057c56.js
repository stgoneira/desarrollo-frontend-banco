(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{6863:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return n(1667)}])},3667:function(e,t){"use strict";t.Z={getBaseUrl:()=>"/desarrollo-frontend-banco",getWSBaseUrl:()=>["127.0.0.1","localhost"].includes(window.location.hostname)?"http://localhost:3000":"https://dapper-shorthaired-doom.glitch.me"}},1667:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(5893),r=n(7294),o=n(3667),s=n(1163);function l(e){let{urlSuccess:t}=e,[n,a]=r.useState(""),[l,u]=r.useState(""),[i,c]=r.useState(""),m=(0,s.useRouter)(),f=async e=>{e.preventDefault();let a=o.Z.getWSBaseUrl();try{let e=await fetch(a+"/usuario/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,contrasena:l})});if(!e.ok)throw Error("Error al autenticar");let r=await e.json();localStorage.setItem("usuario",JSON.stringify(r)),m.push(t)}catch(e){console.dir(e),c(e.message)}},p=r.createElement("section",{className:"login"},r.createElement("form",{onSubmit:f},r.createElement("p",{className:"error"},i),r.createElement("label",{},"Email"),r.createElement("input",{type:"email",value:n,onChange:e=>a(e.currentTarget.value)}),r.createElement("label",{},"Contrase\xf1a"),r.createElement("input",{type:"password",value:l,onChange:e=>u(e.currentTarget.value)}),r.createElement("button",{type:"submit"},"Ingresar")));return p}function u(){return(0,a.jsx)(l,{urlSuccess:"/admin"})}},1163:function(e,t,n){e.exports=n(6885)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6863)}),_N_E=e.O()}]);